# Feature Specification: 歌詞搜尋網站

**Feature Branch**: `001-lyrics-search`  
**Created**: 2025-11-26  
**Status**: Draft  
**Input**: User description: "我要一個找歌詞的網站，可以透過搜索歌名、歌手或是一段歌詞來找到對應結果，點及搜尋結果後會導頁到詳細頁，而詳細頁本身裡面會有完整歌詞、歌曲名稱跟歌手本人的名稱"

## User Scenarios & Testing *(mandatory)*

### User Story 1 - 歌名搜尋 (Priority: P1)

身為一位想找特定歌曲歌詞的使用者，我可以在搜尋框輸入歌曲名稱，系統會顯示符合的搜尋結果列表，讓我能快速找到想要的歌詞。

**Why this priority**: 以歌名搜尋是最直接且最常見的使用情境，是整個產品的核心功能，能夠獨立提供完整價值。

**Independent Test**: 可透過輸入已知歌名進行搜尋，驗證是否能顯示正確的搜尋結果並導航至詳細頁面。

**Acceptance Scenarios**:

1. **Given** 使用者在首頁, **When** 在搜尋框輸入歌曲名稱並點擊搜尋按鈕, **Then** 系統顯示包含該歌名的搜尋結果列表
2. **Given** 搜尋結果列表已顯示, **When** 使用者點擊任一搜尋結果項目, **Then** 系統導航至該歌曲的詳細頁面
3. **Given** 使用者在歌曲詳細頁面, **When** 頁面載入完成, **Then** 顯示完整歌詞、歌曲名稱和歌手名稱

---

### User Story 2 - 歌手名稱搜尋 (Priority: P2)

身為一位喜歡特定歌手的使用者，我可以輸入歌手名稱來搜尋該歌手的所有歌曲，方便我瀏覽同一歌手的作品。

**Why this priority**: 以歌手搜尋是次常見的搜尋方式，讓使用者能夠探索特定歌手的歌曲庫。

**Independent Test**: 可透過輸入已知歌手名稱進行搜尋，驗證是否能顯示該歌手的歌曲列表。

**Acceptance Scenarios**:

1. **Given** 使用者在首頁, **When** 在搜尋框輸入歌手名稱並點擊搜尋按鈕, **Then** 系統顯示該歌手的歌曲列表
2. **Given** 搜尋結果顯示多首歌曲, **When** 使用者瀏覽結果列表, **Then** 每個結果項目都清楚顯示歌曲名稱和歌手名稱

---

### User Story 3 - 歌詞片段搜尋 (Priority: P3)

身為一位只記得部分歌詞的使用者，我可以輸入記得的歌詞片段來找到完整歌曲，幫助我找到那首「想不起來叫什麼名字」的歌。

**Why this priority**: 歌詞片段搜尋是進階功能，對於記不住歌名的使用者非常有價值，但實作複雜度較高。

**Independent Test**: 可透過輸入某首歌的部分歌詞，驗證是否能找到並顯示正確的歌曲。

**Acceptance Scenarios**:

1. **Given** 使用者在首頁, **When** 在搜尋框輸入一段歌詞片段並點擊搜尋按鈕, **Then** 系統顯示包含該歌詞片段的歌曲列表
2. **Given** 搜尋結果已顯示, **When** 使用者查看結果, **Then** 結果中標示出符合的歌詞片段位置（高亮顯示）

---

### Edge Cases

- 當搜尋關鍵字為空白或只有空格時，系統應顯示提示訊息要求輸入有效內容
- 當搜尋無任何結果時，系統應顯示「找不到符合的結果」訊息並提供搜尋建議
- 當搜尋關鍵字過短（少於 2 個字元）時，系統應提示使用者輸入更多關鍵字
- 當網路連線異常時，系統應顯示適當的錯誤訊息
- 當詳細頁面的歌曲資料不存在時，系統應顯示 404 頁面或導回首頁

## Requirements *(mandatory)*

### Functional Requirements

**搜尋功能**
- **FR-001**: 系統 MUST 提供單一搜尋框，支援歌名、歌手名稱和歌詞片段的統一搜尋
- **FR-002**: 系統 MUST 在使用者提交搜尋後顯示搜尋結果列表
- **FR-003**: 系統 MUST 在搜尋結果中顯示每首歌曲的名稱和歌手名稱
- **FR-004**: 系統 MUST 支援搜尋關鍵字不分大小寫

**搜尋結果**
- **FR-005**: 系統 MUST 按相關性排序搜尋結果
- **FR-006**: 搜尋結果項目 MUST 可點擊並導航至詳細頁面
- **FR-007**: 系統 MUST 在無搜尋結果時顯示友善提示訊息

**詳細頁面**
- **FR-008**: 詳細頁面 MUST 顯示完整歌詞內容
- **FR-009**: 詳細頁面 MUST 顯示歌曲名稱
- **FR-010**: 詳細頁面 MUST 顯示歌手名稱
- **FR-011**: 詳細頁面 MUST 提供返回搜尋結果或首頁的導航方式

**使用者體驗**
- **FR-012**: 系統 MUST 在搜尋過程中顯示載入狀態
- **FR-013**: 系統 MUST 驗證搜尋輸入，拒絕空白或過短的關鍵字

### Key Entities

- **Song（歌曲）**: 代表一首歌曲，包含唯一識別碼、歌曲名稱、歌手名稱、完整歌詞內容
- **SearchResult（搜尋結果）**: 代表一筆搜尋結果，包含歌曲基本資訊、相關性分數、符合的關鍵字位置
- **Artist（歌手）**: 代表一位歌手，包含歌手名稱，與歌曲為一對多關係

## Assumptions

- 歌詞資料來源將透過第三方 API 取得（如 Genius API、Musixmatch API 等）
- 初期版本不需要使用者帳號系統
- 搜尋結果分頁預設每頁顯示 20 筆
- 支援中文和英文歌詞搜尋

## Success Criteria *(mandatory)*

### Measurable Outcomes

- **SC-001**: 使用者從輸入關鍵字到看到搜尋結果的時間 MUST 少於 3 秒
- **SC-002**: 搜尋結果頁面載入時間 MUST 少於 2 秒
- **SC-003**: 詳細頁面載入時間 MUST 少於 2 秒
- **SC-004**: 90% 的使用者能夠在首次使用時成功完成搜尋並找到歌詞
- **SC-005**: 搜尋功能正確率達 95%（輸入正確歌名能找到對應歌曲）
- **SC-006**: 系統能夠同時處理 100 位使用者的搜尋請求而不出現明顯延遲
